[gd_scene load_steps=27 format=3 uid="uid://cmr2iieop7qy0"]

[ext_resource type="PackedScene" uid="uid://db02x404q41e0" path="res://Scenes/World/Main/World.tscn" id="1_cm27o"]
[ext_resource type="Script" path="res://Scenes/World/Main/DefendWorld/DefendWorld.cs" id="2_ptjvr"]
[ext_resource type="PackedScene" uid="uid://b61nd8tgse4cm" path="res://Scenes/World/Managers/TroopsManager.tscn" id="3_im7qm"]
[ext_resource type="PackedScene" uid="uid://cvqmgg65cqpf4" path="res://Scenes/World/WorldAI/DefendWorldAI.tscn" id="4_7e281"]
[ext_resource type="Script" path="res://Scenes/World/Capture/CapturableBaseManager.cs" id="5_efwp3"]
[ext_resource type="Script" path="res://Scenes/World/WorldAI/Garrison/GarrisonInfo.cs" id="6_a5vyh"]
[ext_resource type="PackedScene" uid="uid://ies6baf7cj1l" path="res://Scenes/World/Capture/CapturableBase.tscn" id="6_bdpx7"]
[ext_resource type="Script" path="res://Scenes/World/WorldAI/UnitInfo.cs" id="7_4pelb"]
[ext_resource type="Script" path="res://Scenes/World/WorldAI/Waves/WaveInfo.cs" id="7_dkmdf"]
[ext_resource type="PackedScene" uid="uid://bu6s37trpw0yc" path="res://Scenes/World/WorldAI/AssaultWorldAI.tscn" id="7_w7fo2"]
[ext_resource type="Script" path="res://Scenes/Actors/Characters/Stats.cs" id="8_t318e"]
[ext_resource type="PackedScene" uid="uid://dev2ibts6im21" path="res://Scenes/World/Decorations/Fireplace.tscn" id="11_11c6u"]
[ext_resource type="AudioStream" uid="uid://b6sabkubv0wcp" path="res://Sounds/Music/night.mp3" id="11_a57fy"]
[ext_resource type="PackedScene" uid="uid://dlo0c0rutvx31" path="res://Scenes/World/Buildings/Garrison/Archery.tscn" id="14_rc10d"]

[sub_resource type="Resource" id="Resource_pbr02"]
script = ExtResource("8_t318e")
Health = 90.0
MaxHealth = 100.0
DamageMultiplier = 1.0
Armour = 5.0
Speed = 50.0
Gold = 0

[sub_resource type="Resource" id="Resource_tu7ov"]
script = ExtResource("7_4pelb")
Type = 2
TroopsLeft = 2
Stats = SubResource("Resource_pbr02")

[sub_resource type="Resource" id="Resource_coprr"]
script = ExtResource("6_a5vyh")
Manpower = 100
MaxUnits = 2
UnitQueue = Array[Object]([SubResource("Resource_tu7ov")])
UnitOrigins = null

[sub_resource type="Resource" id="Resource_5nrat"]
script = ExtResource("8_t318e")
Health = 100.0
MaxHealth = 100.0
DamageMultiplier = 1.0
Armour = 5.0
Speed = 50.0
Gold = 5

[sub_resource type="Resource" id="Resource_lqj5u"]
script = ExtResource("7_4pelb")
Type = 4
TroopsLeft = 10
Stats = SubResource("Resource_5nrat")

[sub_resource type="Resource" id="Resource_ka05s"]
script = ExtResource("8_t318e")
Health = 100.0
MaxHealth = 100.0
DamageMultiplier = 1.0
Armour = 5.0
Speed = 75.0
Gold = 19

[sub_resource type="Resource" id="Resource_f1eol"]
script = ExtResource("7_4pelb")
Type = 3
TroopsLeft = 2
Stats = SubResource("Resource_ka05s")

[sub_resource type="Resource" id="Resource_gyyvw"]
script = ExtResource("7_dkmdf")
MaxUnits = 10
UnitQueue = Array[Object]([SubResource("Resource_lqj5u"), SubResource("Resource_f1eol")])
MaxDuration = 5000.0
Reward = 100.0
AttackDirections = 0
DayTime = 360.0

[sub_resource type="Resource" id="Resource_dqnwo"]
script = ExtResource("8_t318e")
Health = 300.0
MaxHealth = 300.0
DamageMultiplier = 1.0
Armour = 5.0
Speed = 100.0
Gold = 999

[sub_resource type="Resource" id="Resource_x7sb2"]
script = ExtResource("7_4pelb")
Type = 5
TroopsLeft = 1
Stats = SubResource("Resource_dqnwo")

[sub_resource type="Resource" id="Resource_qr0sh"]
script = ExtResource("7_dkmdf")
MaxUnits = 1
UnitQueue = Array[Object]([SubResource("Resource_x7sb2")])
MaxDuration = 5000.0
Reward = 100.0
AttackDirections = 300
DayTime = 600.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_077q2"]
vertices = PackedVector2Array(1178, 501, 1177, 502, 1194, 483, 1121, 519, 1163, 520, 915, 595, 919, 579, 1080, 521, 1085, 379, 1067, 398, 1067, 397, 1941, 24, 1944, 1083, 1193, 451, 1193, 418, 1050, 491, 1066, 506, 915, 563, 18, 1084, 903, 607, 1176, 399, 903, 551, 1048, 453, 1175, 398, 1154, 379, 18, 19, 1050, 413, 871, 551, 1048, 451, 887, 547, 887, 611, 871, 607, 859, 595, 855, 579, 859, 563)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5, 6, 7), PackedInt32Array(8, 9, 10), PackedInt32Array(11, 12, 2, 13, 14), PackedInt32Array(15, 16, 7, 6, 17), PackedInt32Array(0, 2, 12, 4), PackedInt32Array(4, 12, 18, 19), PackedInt32Array(11, 14, 20), PackedInt32Array(15, 17, 21, 22), PackedInt32Array(11, 20, 23), PackedInt32Array(11, 23, 24), PackedInt32Array(25, 11, 24, 8), PackedInt32Array(18, 25, 8, 10, 26, 27), PackedInt32Array(28, 22, 21), PackedInt32Array(26, 28, 21, 29), PackedInt32Array(19, 5, 4), PackedInt32Array(30, 19, 18), PackedInt32Array(31, 30, 18), PackedInt32Array(32, 31, 18), PackedInt32Array(33, 32, 18), PackedInt32Array(34, 33, 18), PackedInt32Array(26, 29, 27), PackedInt32Array(18, 27, 34)])
outlines = Array[PackedVector2Array]([PackedVector2Array(2, 1101, 1961, 1099, 1957, 9, 2, 3)])
source_geometry_mode = 2
source_geometry_group_name = &"Obstacles"
agent_radius = 16.0

[node name="World" node_paths=PackedStringArray("assaultWorldAI", "allyWorldAI", "capturableBaseManager", "NavigationRegion") groups=["Persist"] instance=ExtResource("1_cm27o")]
script = ExtResource("2_ptjvr")
assaultWorldAI = NodePath("AssaultWorldAI")
allyWorldAI = NodePath("AllyWorldAI")
capturableBaseManager = NodePath("CapturableBasesManager")
NavigationRegion = NodePath("NavigationRegion2D")

[node name="PlayerSpawn" parent="." index="0"]
position = Vector2(1032, 428)

[node name="Camera2D" parent="." index="1"]
position = Vector2(1027, 423)

[node name="LootManager" parent="." index="3"]
coinsCount = 1000

[node name="BackgroundMusic" parent="." index="4"]
bus = &"Music"

[node name="TroopsManager" parent="." index="5" instance=ExtResource("3_im7qm")]
startingCount = 5

[node name="CanvasModulate" parent="." index="6" node_paths=PackedStringArray("nightSounds")]
color = Color(0.956863, 0.933333, 0.752941, 1)
Time = 360.0
nightSounds = NodePath("../BackgroundNight")

[node name="AnimationPlayer" parent="CanvasModulate" index="0"]
autoplay = "DayNightCycle"

[node name="AllyWorldAI" parent="." index="8" node_paths=PackedStringArray("troopsManager") instance=ExtResource("4_7e281")]
position = Vector2(315, -54)
unitsToSpawn = Array[Object]([SubResource("Resource_coprr")])
troopsManager = NodePath("../TroopsManager")

[node name="AssaultWorldAI" parent="." index="9" node_paths=PackedStringArray("capturableBaseManager", "troopsManager", "dayNightCycle") instance=ExtResource("7_w7fo2")]
capturableBaseManager = NodePath("../CapturableBasesManager")
waves = Array[Object]([SubResource("Resource_gyyvw"), SubResource("Resource_qr0sh")])
troopsManager = NodePath("../TroopsManager")
dayNightCycle = NodePath("../CanvasModulate")

[node name="AllyRespawnPoints" type="Node2D" parent="." index="10"]
position = Vector2(1184, 605)

[node name="EnemyRespawnPoints" type="Node2D" parent="." index="11"]
position = Vector2(135, 65)

[node name="Fireplace" parent="." index="12" instance=ExtResource("11_11c6u")]
position = Vector2(886, 582)

[node name="BackgroundNight" type="AudioStreamPlayer" parent="." index="13"]
stream = ExtResource("11_a57fy")

[node name="CapturableBasesManager" type="Node2D" parent="." index="14" node_paths=PackedStringArray("capturableBases")]
script = ExtResource("5_efwp3")
capturableBases = [NodePath("CapturableBase")]

[node name="CapturableBase" parent="CapturableBasesManager" index="0" instance=ExtResource("6_bdpx7")]
position = Vector2(1121, 452)
Team = 0

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." index="15"]
visible = false
navigation_polygon = SubResource("NavigationPolygon_077q2")

[node name="Archery" parent="." index="16" instance=ExtResource("14_rc10d")]
position = Vector2(1517, 545)
